<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" th:href="@{/css/layout/admin/aside.css}">
</head>
<body>
    <aside id="sidebar">
        <div class="navi">
            <li onclick="openMenu(event, 'menu1')">환경설정</li>
            <div class="menues" id="menu1">
                <a th:href="@{/admin/config/basic}">- 기본설정</a>
                <a th:href="@{/admin/config/banner}">- 배너관리</a>
                <a th:href="@{/admin/config/term}">- 약관관리</a>
                <a th:href="@{/admin/config/version}">- 버전이력</a>
            </div>
        </div>
        <div class="navi">
            <li onclick="openMenu(event, 'menu2')">상점관리</li>
            <div class="menues" id="menu2">
                <a href="">- 상점목록</a>
                <a href="">- 매출현황</a>
            </div>
        </div>
        <div class="navi">
            <li onclick="openMenu(event, 'menu3')">회원관리</li>
            <div class="menues" id="menu3">
                <a href="">- 회원목록</a>
                <a href="">- 포인트관리</a>
            </div>
        </div>
        <div class="navi">
            <li onclick="openMenu(event, 'menu4')">상품관리</li>
            <div class="menues" id="menu4">
                <a href="">- 상품목록</a>
                <a href="">- 상품등록</a>
            </div>
        </div>
        <div class="navi">
            <li onclick="openMenu(event, 'menu5')">주문관리</li>
            <div class="menues" id="menu5">
                <a href="">- 주문현황</a>
                <a href="">- 배송현황</a>
            </div>
        </div>
        <div class="navi">
            <li onclick="openMenu(event, 'menu6')">고객센터</li>
            <div class="menues" id="menu6">
                <a href="">- 공지사항</a>
                <a href="">- 자주묻는질문</a>
                <a href="">- 문의하기</a>
            </div>
        </div>
    </aside>

    <script>
        function openMenu(event, menuId) {
            const allMenus = document.querySelectorAll('.menues');
            
            // 모든 메뉴를 닫기
            allMenus.forEach(menu => {
                if (menu.id !== menuId) {
                    menu.classList.remove('open');
                    menu.style.transition = 'none';
                    menu.style.maxHeight = '0';  // 즉시 닫기
                    menu.style.padding = '0';   
                }
            }); 

            // 클릭된 메뉴 열기/닫기
            const selectedMenu = document.getElementById(menuId);
            if (selectedMenu.classList.contains('open')) {
                selectedMenu.classList.remove('open');
                selectedMenu.style.transition = 'none';  // 닫을 때는 transition을 제거
                selectedMenu.style.maxHeight = '0';
                selectedMenu.style.padding = '0';
            } else {
                selectedMenu.classList.add('open');
                // 열릴 때 transition을 다시 추가해서 부드럽게 열리도록 함
                setTimeout(() => {
                    selectedMenu.style.transition = 'max-height 0.5s ease-out, padding 0.5s ease-out';
                    selectedMenu.style.maxHeight = '500px';  // 부드럽게 열기
                    selectedMenu.style.padding = '20px 0';
                }, 10);  // 약간의 지연을 줘서 transition이 적용되도록
            }
        }
    </script>
</body>
</html>